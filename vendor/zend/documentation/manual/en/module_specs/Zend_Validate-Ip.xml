<?xml version="1.0" encoding="utf-8"?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="zend.validate.set.ip"><info><title>Ip</title></info>
    

    <para>
        <classname>Zend_Validate_Ip</classname> allows you to validate if a given value is an IP
        address. It supports the IPv4 and also the IPv6 standard.
    </para>

    <section xml:id="zend.validate.set.ip.options"><info><title>Supported options for Zend_Validate_Ip</title></info>
        

        <para>
            The following options are supported for <classname>Zend_Validate_Ip</classname>:
        </para>

        <itemizedlist>
            <listitem>
                <para>
                    <emphasis><property>allowipv4</property></emphasis>: Defines if the validator
                    allows IPv4 adresses. This option defaults to <constant>TRUE</constant>.
                </para>
            </listitem>

            <listitem>
                <para>
                    <emphasis><property>allowipv6</property></emphasis>: Defines if the validator
                    allows IPv6 adresses. This option defaults to <constant>TRUE</constant>.
                </para>
            </listitem>
        </itemizedlist>
    </section>

    <section xml:id="zend.validate.set.ip.basic"><info><title>Basic usage</title></info>
        

        <para>
            A basic example of usage is below:
        </para>

        <programlisting language="php"><![CDATA[
$validator = new Zend_Validate_Ip();
if ($validator->isValid($ip)) {
    // ip appears to be valid
} else {
    // ip is invalid; print the reasons
}
]]></programlisting>

        <note><info><title>Invalid IP addresses</title></info>
            

            <para>
                Keep in mind that <classname>Zend_Validate_Ip</classname> only validates IP
                addresses. Addresses like '<filename>mydomain.com</filename>' or
                '<filename>192.168.50.1/index.html</filename>' are no valid
                IP addresses. They are either hostnames or valid <acronym>URL</acronym>s but not IP
                addresses.
            </para>
        </note>

        <note><info><title>IPv6 validation</title></info>
            

            <para>
                <classname>Zend_Validate_Ip</classname> validates IPv6 addresses with regex. The
                reason is that the filters and methods from <acronym>PHP</acronym> itself don't
                follow the <acronym>RFC</acronym>. Many other available classes also don't follow
                it.
            </para>
        </note>
    </section>

    <section xml:id="zend.validate.set.ip.singletype"><info><title>Validate IPv4 or IPV6 alone</title></info>
        

        <para>
            Sometimes it's useful to validate only one of the supported formats. For example when
            your network only supports IPv4. In this case it would be useless to allow IPv6 within
            this validator.
        </para>

        <para>
            To limit <classname>Zend_Validate_Ip</classname> to one protocol you can set the options
            <property>allowipv4</property> or <property>allowipv6</property> to
            <constant>FALSE</constant>. You can do this either by giving the option to the
            constructor or by using <methodname>setOptions()</methodname> afterwards.
        </para>

        <programlisting language="php"><![CDATA[
$validator = new Zend_Validate_Ip(array('allowipv6' => false));
if ($validator->isValid($ip)) {
    // ip appears to be valid ipv4 address
} else {
    // ip is no ipv4 address
}
]]></programlisting>

        <note><info><title>Default behaviour</title></info>
            

            <para>
                The default behaviour which <classname>Zend_Validate_Ip</classname> follows is to
                allow both standards.
            </para>
        </note>
    </section>
</section>
