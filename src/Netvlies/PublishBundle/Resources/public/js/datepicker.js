(function(e){function l(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",timezoneText:"Time Zone"};this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showTimezone:!1,showTime:!0,stepHour:0.05,stepMinute:0.05,stepSecond:0.05,hour:0,minute:0,second:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,
hourMax:23,minuteMax:59,secondMax:59,minDateTime:null,maxDateTime:null,hourGrid:0,minuteGrid:0,secondGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneList:"-1100,-1000,-0900,-0800,-0700,-0600,-0500,-0400,-0300,-0200,-0100,+0000,+0100,+0200,+0300,+0400,+0500,+0600,+0700,+0800,+0900,+1000,+1100,+1200".split(",")};e.extend(this._defaults,this.regional[""])}e.extend(e.ui,{timepicker:{version:"0.9.6"}});e.extend(l.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,
hour_slider:null,minute_slider:null,second_slider:null,timezone_select:null,hour:0,minute:0,second:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:"-1100,-1000,-0900,-0800,-0700,-0600,-0500,-0400,-0300,-0200,-0100,+0000,+0100,+0200,+0300,+0400,+0500,+0600,+0700,+0800,+0900,+1000,+1100,+1200".split(","),setDefaults:function(a){var b=
this._defaults,a=a||{};e.extend(b,a);for(var c in a)if(a[c]===null||a[c]===void 0)b[c]=a[c];return this},_newInst:function(a,b){var c=new l,d={},f;for(f in this._defaults){var h=a.attr("time:"+f);if(h)try{d[f]=eval(h)}catch(g){d[f]=h}}c._defaults=e.extend({},this._defaults,d,b,{beforeShow:function(a,d){e.isFunction(b.beforeShow)&&b.beforeShow(a,d,c)},onChangeMonthYear:function(d,f,g){c._updateDateTime(g);e.isFunction(b.onChangeMonthYear)&&b.onChangeMonthYear.call(a[0],d,f,g,c)},onClose:function(d,
f){c.timeDefined===!0&&a.val()!=""&&c._updateDateTime(f);e.isFunction(b.onClose)&&b.onClose.call(a[0],d,f,c)},timepicker:c});c.hour=c._defaults.hour;c.minute=c._defaults.minute;c.second=c._defaults.second;c.ampm="";c.$input=a;if(b.altField)c.$altInput=e(b.altField).css({cursor:"pointer"}).focus(function(){a.trigger("focus")});if(c._defaults.minDate!==void 0&&c._defaults.minDate instanceof Date)c._defaults.minDateTime=new Date(c._defaults.minDate.getTime());if(c._defaults.minDateTime!==void 0&&c._defaults.minDateTime instanceof
Date)c._defaults.minDate=new Date(c._defaults.minDateTime.getTime());if(c._defaults.maxDate!==void 0&&c._defaults.maxDate instanceof Date)c._defaults.maxDateTime=new Date(c._defaults.maxDate.getTime());if(c._defaults.maxDateTime!==void 0&&c._defaults.maxDateTime instanceof Date)c._defaults.maxDate=new Date(c._defaults.maxDateTime.getTime());return c},_addTimePicker:function(a){this.timeDefined=this._parseTime(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():
this.$input.val());this._limitMinMaxDateTime(a,!1);this._injectTimePicker()},_parseTime:function(a,b){var c=this._defaults.timeFormat.toString().replace(/h{1,2}/ig,"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/t{1,2}/ig,"(am|pm|a|p)?").replace(/z{1}/ig,"((\\+|-)\\d\\d\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",d=this._getFormatPositions();if(!this.inst)this.inst=e.datepicker._getInst(this.$input[0]);if(b||!this._defaults.timeOnly)c=".{"+e.datepicker._get(this.inst,
"dateFormat").length+",}"+this._defaults.separator.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")+c;if(c=a.match(RegExp(c,"i"))){if(d.t!==-1)this.ampm=(c[d.t]===void 0||c[d.t].length===0?"":c[d.t].charAt(0).toUpperCase()=="A"?"AM":"PM").toUpperCase();if(d.h!==-1)this.hour=this.ampm=="AM"&&c[d.h]=="12"?0:this.ampm=="PM"&&c[d.h]!="12"?(parseFloat(c[d.h])+12).toFixed(0):Number(c[d.h]);if(d.m!==-1)this.minute=Number(c[d.m]);if(d.s!==-1)this.second=Number(c[d.s]);if(d.z!==-1)this.timezone=c[d.z];
return!0}return!1},_getFormatPositions:function(){var a=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|t{1,2}|z)/g),b={h:-1,m:-1,s:-1,t:-1,z:-1};if(a)for(var c=0;c<a.length;c++)b[a[c].toString().charAt(0)]==-1&&(b[a[c].toString().charAt(0)]=c+1);return b},_injectTimePicker:function(){var a=this.inst.dpDiv,b=this._defaults,c=this,d=(b.hourMax-b.hourMax%b.stepHour).toFixed(0),f=(b.minuteMax-b.minuteMax%b.stepMinute).toFixed(0),h=(b.secondMax-b.secondMax%b.stepSecond).toFixed(0),
g=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(a.find("div#ui-timepicker-div-"+g).length===0&&b.showTimepicker){var i='<div class="ui-timepicker-div" id="ui-timepicker-div-'+g+'"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+g+'"'+(b.showTime?"":' style="display:none;"')+">"+b.timeText+'</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_'+g+'"'+(b.showTime?"":' style="display:none;"')+'></dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+g+'"'+(b.showHour?
"":' style="display:none;"')+">"+b.hourText+"</dt>",n=0,o=0,l=0,k;if(b.showHour&&b.hourGrid>0){i+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+g+'"'+(b.showHour?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var j=b.hourMin;j<=d;j+=b.hourGrid){n++;var m=b.ampm&&j>12?j-12:j;m<10&&(m="0"+m);b.ampm&&(j==0?m="12a":m+=j<12?"a":"p");i+="<td>"+m+"</td>"}i+="</tr></table></div></dd>"}else i+='<dd class="ui_tpicker_hour" id="ui_tpicker_hour_'+
g+'"'+(b.showHour?"":' style="display:none;"')+"></dd>";i+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+g+'"'+(b.showMinute?"":' style="display:none;"')+">"+b.minuteText+"</dt>";if(b.showMinute&&b.minuteGrid>0){i+='<dd class="ui_tpicker_minute ui_tpicker_minute_'+b.minuteGrid+'"><div id="ui_tpicker_minute_'+g+'"'+(b.showMinute?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(j=b.minuteMin;j<=f;j+=b.minuteGrid)o++,
i+="<td>"+(j<10?"0":"")+j+"</td>";i+="</tr></table></div></dd>"}else i+='<dd class="ui_tpicker_minute" id="ui_tpicker_minute_'+g+'"'+(b.showMinute?"":' style="display:none;"')+"></dd>";i+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+g+'"'+(b.showSecond?"":' style="display:none;"')+">"+b.secondText+"</dt>";if(b.showSecond&&b.secondGrid>0){i+='<dd class="ui_tpicker_second ui_tpicker_second_'+b.secondGrid+'"><div id="ui_tpicker_second_'+g+'"'+(b.showSecond?"":' style="display:none;"')+
'></div><div style="padding-left: 1px"><table><tr>';for(j=b.secondMin;j<=h;j+=b.secondGrid)l++,i+="<td>"+(j<10?"0":"")+j+"</td>";i+="</tr></table></div></dd>"}else i+='<dd class="ui_tpicker_second" id="ui_tpicker_second_'+g+'"'+(b.showSecond?"":' style="display:none;"')+"></dd>";i+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+g+'"'+(b.showTimezone?"":' style="display:none;"')+">"+b.timezoneText+"</dt>";i+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+g+'"'+(b.showTimezone?
"":' style="display:none;"')+"></dd>";i+="</dl></div>";$tp=e(i);b.timeOnly===!0&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+b.timeOnlyTitle+"</div></div>"),a.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());this.hour_slider=$tp.find("#ui_tpicker_hour_"+g).slider({orientation:"horizontal",value:this.hour,min:b.hourMin,max:d,step:b.stepHour,slide:function(b,a){c.hour_slider.slider("option","value",a.value);c._onTimeChange()}});
this.minute_slider=$tp.find("#ui_tpicker_minute_"+g).slider({orientation:"horizontal",value:this.minute,min:b.minuteMin,max:f,step:b.stepMinute,slide:function(b,a){c.minute_slider.slider("option","value",a.value);c._onTimeChange()}});this.second_slider=$tp.find("#ui_tpicker_second_"+g).slider({orientation:"horizontal",value:this.second,min:b.secondMin,max:h,step:b.stepSecond,slide:function(b,a){c.second_slider.slider("option","value",a.value);c._onTimeChange()}});this.timezone_select=$tp.find("#ui_tpicker_timezone_"+
g).append("<select></select>").find("select");e.fn.append.apply(this.timezone_select,e.map(b.timezoneList,function(b){return e("<option />").val(typeof b=="object"?b.value:b).text(typeof b=="object"?b.label:b)}));this.timezone_select.val(typeof this.timezone!="undefined"&&this.timezone!=null&&this.timezone!=""?this.timezone:b.timezone);this.timezone_select.change(function(){c._onTimeChange()});b.showHour&&b.hourGrid>0&&(k=100*n*b.hourGrid/(d-b.hourMin),$tp.find(".ui_tpicker_hour table").css({width:k+
"%",marginLeft:k/(-2*n)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){var a=e(this).html();if(b.ampm)var d=a.substring(2).toLowerCase(),a=parseInt(a.substring(0,2),10),a=d=="a"?a==12?0:a:a==12?12:a+12;c.hour_slider.slider("option","value",a);c._onTimeChange();c._onSelectHandler()}).css({cursor:"pointer",width:100/n+"%",textAlign:"center",overflow:"hidden"})}));b.showMinute&&b.minuteGrid>0&&(k=100*o*b.minuteGrid/(f-b.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:k+
"%",marginLeft:k/(-2*o)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){c.minute_slider.slider("option","value",e(this).html());c._onTimeChange();c._onSelectHandler()}).css({cursor:"pointer",width:100/o+"%",textAlign:"center",overflow:"hidden"})}));b.showSecond&&b.secondGrid>0&&$tp.find(".ui_tpicker_second table").css({width:k+"%",marginLeft:k/(-2*l)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){c.second_slider.slider("option",
"value",e(this).html());c._onTimeChange();c._onSelectHandler()}).css({cursor:"pointer",width:100/l+"%",textAlign:"center",overflow:"hidden"})});d=a.find(".ui-datepicker-buttonpane");d.length?d.before($tp):a.append($tp);this.$timeObj=$tp.find("#ui_tpicker_time_"+g);if(this.inst!==null)a=this.timeDefined,this._onTimeChange(),this.timeDefined=a;a=function(){c._onSelectHandler()};this.hour_slider.bind("slidestop",a);this.minute_slider.bind("slidestop",a);this.second_slider.bind("slidestop",a)}},_limitMinMaxDateTime:function(a,
b){var c=this._defaults,d=new Date(a.selectedYear,a.selectedMonth,a.selectedDay);if(this._defaults.showTimepicker){if(e.datepicker._get(a,"minDateTime")!==null&&d){var f=e.datepicker._get(a,"minDateTime"),h=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null)this.hourMinOriginal=c.hourMin,this.minuteMinOriginal=c.minuteMin,this.secondMinOriginal=c.secondMin;if(a.settings.timeOnly||h.getTime()==d.getTime())if(this._defaults.hourMin=
f.getHours(),this.hour<=this._defaults.hourMin)if(this.hour=this._defaults.hourMin,this._defaults.minuteMin=f.getMinutes(),this.minute<=this._defaults.minuteMin)this.minute=this._defaults.minuteMin,this._defaults.secondMin=f.getSeconds();else{if(this.second<this._defaults.secondMin)this.second=this._defaults.secondMin;this._defaults.secondMin=this.secondMinOriginal}else this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal;else this._defaults.hourMin=this.hourMinOriginal,
this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal}if(e.datepicker._get(a,"maxDateTime")!==null&&d){f=e.datepicker._get(a,"maxDateTime");h=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)this.hourMaxOriginal=c.hourMax,this.minuteMaxOriginal=c.minuteMax,this.secondMaxOriginal=c.secondMax;if(a.settings.timeOnly||h.getTime()==d.getTime())if(this._defaults.hourMax=
f.getHours(),this.hour>=this._defaults.hourMax)if(this.hour=this._defaults.hourMax,this._defaults.minuteMax=f.getMinutes(),this.minute>=this._defaults.minuteMax)this.minute=this._defaults.minuteMax,this._defaults.secondMax=f.getSeconds();else{if(this.second>this._defaults.secondMax)this.second=this._defaults.secondMax;this._defaults.secondMax=this.secondMaxOriginal}else this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal;else this._defaults.hourMax=this.hourMaxOriginal,
this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal}b!==void 0&&b===!0&&(c=(this._defaults.hourMax-this._defaults.hourMax%this._defaults.stepHour).toFixed(0),d=(this._defaults.minuteMax-this._defaults.minuteMax%this._defaults.stepMinute).toFixed(0),f=(this._defaults.secondMax-this._defaults.secondMax%this._defaults.stepSecond).toFixed(0),this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:c}).slider("value",this.hour),this.minute_slider&&
this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:d}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:f}).slider("value",this.second))}},_onTimeChange:function(){var a=this.hour_slider?this.hour_slider.slider("value"):!1,b=this.minute_slider?this.minute_slider.slider("value"):!1,c=this.second_slider?this.second_slider.slider("value"):!1,d=this.timezone_select?this.timezone_select.val():!1;typeof a=="object"&&(a=
!1);typeof b=="object"&&(b=!1);typeof c=="object"&&(c=!1);typeof d=="object"&&(d=!1);a!==!1&&(a=parseInt(a,10));b!==!1&&(b=parseInt(b,10));c!==!1&&(c=parseInt(c,10));var f=a<12?"AM":"PM",h=a!=this.hour||b!=this.minute||c!=this.second||this.ampm.length>0&&this.ampm!=f||d!=this.timezone;if(h){if(a!==!1)this.hour=a;if(b!==!1)this.minute=b;if(c!==!1)this.second=c;if(d!==!1)this.timezone=d;if(!this.inst)this.inst=e.datepicker._getInst(this.$input[0]);this._limitMinMaxDateTime(this.inst,!0)}if(this._defaults.ampm)this.ampm=
f;this._formatTime();this.$timeObj&&this.$timeObj.text(this.formattedTime+this._defaults.timeSuffix);this.timeDefined=!0;h&&this._updateDateTime()},_onSelectHandler:function(){var a=this._defaults.onSelect,b=this.$input?this.$input[0]:null;a&&b&&a.apply(b,[this.formattedDateTime,this])},_formatTime:function(a,b,c){if(c==void 0)c=this._defaults.ampm;var a=a||{hour:this.hour,minute:this.minute,second:this.second,ampm:this.ampm,timezone:this.timezone},d=b||this._defaults.timeFormat.toString();if(c)var f=
a.ampm=="AM"?a.hour:a.hour%12,f=Number(f)===0?12:f,d=d.toString().replace(/hh/g,(f<10?"0":"")+f).replace(/h/g,f).replace(/mm/g,(a.minute<10?"0":"")+a.minute).replace(/m/g,a.minute).replace(/ss/g,(a.second<10?"0":"")+a.second).replace(/s/g,a.second).replace(/TT/g,a.ampm.toUpperCase()).replace(/Tt/g,a.ampm.toUpperCase()).replace(/tT/g,a.ampm.toLowerCase()).replace(/tt/g,a.ampm.toLowerCase()).replace(/T/g,a.ampm.charAt(0).toUpperCase()).replace(/t/g,a.ampm.charAt(0).toLowerCase()).replace(/z/g,a.timezone);
else d=d.toString().replace(/hh/g,(a.hour<10?"0":"")+a.hour).replace(/h/g,a.hour).replace(/mm/g,(a.minute<10?"0":"")+a.minute).replace(/m/g,a.minute).replace(/ss/g,(a.second<10?"0":"")+a.second).replace(/s/g,a.second).replace(/z/g,a.timezone),d=e.trim(d.replace(/t/gi,""));if(arguments.length)return d;else this.formattedTime=d},_updateDateTime:function(a){a=this.inst||a;dt=new Date(a.selectedYear,a.selectedMonth,a.selectedDay);dateFmt=e.datepicker._get(a,"dateFormat");formatCfg=e.datepicker._getFormatConfig(a);
timeAvailable=dt!==null&&this.timeDefined;var b=this.formattedDate=e.datepicker.formatDate(dateFmt,dt===null?new Date:dt,formatCfg);if(!(a.lastVal!==void 0&&a.lastVal.length>0&&this.$input.val().length===0)){if(this._defaults.timeOnly===!0)b=this.formattedTime;else if(this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||timeAvailable))b+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix;this.formattedDateTime=b;this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===
!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):(this.$altInput&&this.$altInput.val(b),this.$input.val(b)):this.$input.val(this.formattedDate);this.$input.trigger("change")}}});e.fn.extend({timepicker:function(a){var a=a||{},b=arguments;typeof a=="object"&&(b[0]=e.extend(a,{timeOnly:!0}));return e(this).each(function(){e.fn.datetimepicker.apply(e(this),b)})},datetimepicker:function(a){var a=a||{},b=arguments;return typeof a=="string"?a=="getDate"?e.fn.datepicker.apply(e(this[0]),
b):this.each(function(){var a=e(this);a.datepicker.apply(a,b)}):this.each(function(){var b=e(this);b.datepicker(e.timepicker._newInst(b,a)._defaults)})}});e.datepicker._base_selectDate=e.datepicker._selectDate;e.datepicker._selectDate=function(a,b){var c=this._getInst(e(a)[0]),d=this._get(c,"timepicker");d?(d._limitMinMaxDateTime(c,!0),c.inline=c.stay_open=!0,this._base_selectDate(a,b+d._defaults.separator+d.formattedTime+d._defaults.timeSuffix),c.inline=c.stay_open=!1,this._notifyChange(c),this._updateDatepicker(c)):
this._base_selectDate(a,b)};e.datepicker._base_updateDatepicker=e.datepicker._updateDatepicker;e.datepicker._updateDatepicker=function(a){var b=a.input[0];if(!e.datepicker._curInst||!(e.datepicker._curInst!=a&&e.datepicker._datepickerShowing&&e.datepicker._lastInput!=b))if(typeof a.stay_open!=="boolean"||a.stay_open===!1)this._base_updateDatepicker(a),(b=this._get(a,"timepicker"))&&b._addTimePicker(a)};e.datepicker._base_doKeyPress=e.datepicker._doKeyPress;e.datepicker._doKeyPress=function(a){var b=
e.datepicker._getInst(a.target),c=e.datepicker._get(b,"timepicker");if(c&&e.datepicker._get(b,"constrainInput")){var d=c._defaults.ampm,b=e.datepicker._possibleChars(e.datepicker._get(b,"dateFormat")),c=c._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,d?"APM":"").replace(/Tt/g,d?"AaPpMm":"").replace(/tT/g,d?"AaPpMm":"").replace(/T/g,d?"AP":"").replace(/tt/g,d?"apm":"").replace(/t/g,d?"ap":"")+" "+c._defaults.separator+c._defaults.timeSuffix+(c._defaults.showTimezone?c._defaults.timezoneList.join(""):
"")+b,d=String.fromCharCode(a.charCode===void 0?a.keyCode:a.charCode);return a.ctrlKey||d<" "||!b||c.indexOf(d)>-1}return e.datepicker._base_doKeyPress(a)};e.datepicker._base_doKeyUp=e.datepicker._doKeyUp;e.datepicker._doKeyUp=function(a){var b=e.datepicker._getInst(a.target),c=e.datepicker._get(b,"timepicker");if(c&&c._defaults.timeOnly&&b.input.val()!=b.lastVal)try{e.datepicker._updateDatepicker(b)}catch(d){e.datepicker.log(d)}return e.datepicker._base_doKeyUp(a)};e.datepicker._base_gotoToday=e.datepicker._gotoToday;
e.datepicker._gotoToday=function(a){this._base_gotoToday(a);this._setTime(this._getInst(e(a)[0]),new Date)};e.datepicker._disableTimepickerDatepicker=function(a){var b=this._getInst(a),c=this._get(b,"timepicker");e(a).datepicker("getDate");if(c)c._defaults.showTimepicker=!1,c._updateDateTime(b)};e.datepicker._enableTimepickerDatepicker=function(a){var b=this._getInst(a),c=this._get(b,"timepicker");e(a).datepicker("getDate");if(c)c._defaults.showTimepicker=!0,c._addTimePicker(b),c._updateDateTime(b)};
e.datepicker._setTime=function(a,b){var c=this._get(a,"timepicker");if(c){var d=c._defaults,e=b?b.getHours():d.hour,h=b?b.getMinutes():d.minute,g=b?b.getSeconds():d.second;if(e<d.hourMin||e>d.hourMax||h<d.minuteMin||h>d.minuteMax||g<d.secondMin||g>d.secondMax)e=d.hourMin,h=d.minuteMin,g=d.secondMin;c.hour=e;c.minute=h;c.second=g;c.hour_slider&&c.hour_slider.slider("value",e);c.minute_slider&&c.minute_slider.slider("value",h);c.second_slider&&c.second_slider.slider("value",g);c._onTimeChange();c._updateDateTime(a)}};
e.datepicker._setTimeDatepicker=function(a,b,c){var a=this._getInst(a),d=this._get(a,"timepicker");d&&(this._setDateFromField(a),b&&(typeof b=="string"?(d._parseTime(b,c),b=new Date,b.setHours(d.hour,d.minute,d.second)):b=new Date(b.getTime()),b.toString()=="Invalid Date"&&(b=void 0),this._setTime(a,b)))};e.datepicker._base_setDateDatepicker=e.datepicker._setDateDatepicker;e.datepicker._setDateDatepicker=function(a,b){var c=this._getInst(a),d=b instanceof Date?new Date(b.getTime()):b;this._updateDatepicker(c);
this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(a,d,!0)};e.datepicker._base_getDateDatepicker=e.datepicker._getDateDatepicker;e.datepicker._getDateDatepicker=function(a,b){var c=this._getInst(a),d=this._get(c,"timepicker");return d?(this._setDateFromField(c,b),(c=this._getDate(c))&&d._parseTime(e(a).val(),d.timeOnly)&&c.setHours(d.hour,d.minute,d.second),c):this._base_getDateDatepicker(a,b)};e.datepicker._base_parseDate=e.datepicker.parseDate;e.datepicker.parseDate=function(a,
b,c){var d;try{d=this._base_parseDate(a,b,c)}catch(e){d=this._base_parseDate(a,b.substring(0,b.length-(e.length-e.indexOf(":")-2)),c)}return d};e.datepicker._base_optionDatepicker=e.datepicker._optionDatepicker;e.datepicker._optionDatepicker=function(a,b,c){this._base_optionDatepicker(a,b,c);var a=this._getInst(a),d=this._get(a,"timepicker");if(d){if(b==="minDate"){if(d._defaults.minDate!==void 0&&d._defaults.minDate instanceof Date)d._defaults.minDateTime=new Date(c);if(d._defaults.minDateTime!==
void 0&&d._defaults.minDateTime instanceof Date)d._defaults.minDate=new Date(d._defaults.minDateTime.getTime());d._limitMinMaxDateTime(a,!0)}if(b==="maxDate"){if(d._defaults.maxDate!==void 0&&d._defaults.maxDate instanceof Date)d._defaults.maxDateTime=new Date(c);if(d._defaults.maxDateTime!==void 0&&d._defaults.maxDateTime instanceof Date)d._defaults.maxDate=new Date(d._defaults.maxDateTime.getTime());d._limitMinMaxDateTime(a,!0)}}};e.timepicker=new l;e.timepicker.version="0.9.6"})(jQuery);

$(function() {

	//localization
	$.datepicker.regional['nl'] = {
		closeText: 'Sluiten',
		prevText: '&larr;',
		nextText: '&rarr;',
		currentText: 'Vandaag',
		monthNames: ['januari', 'februari', 'maart', 'april', 'mei', 'juni',
		'juli', 'augustus', 'september', 'oktober', 'november', 'december'],
		monthNamesShort: ['jan', 'feb', 'maa', 'apr', 'mei', 'jun',
		'jul', 'aug', 'sep', 'okt', 'nov', 'dec'],
		dayNames: ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
		dayNamesShort: ['zon', 'maa', 'din', 'woe', 'don', 'vri', 'zat'],
		dayNamesMin: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
		weekHeader: 'Wk',
		dateFormat: 'dd-mm-yy',
		firstDay: 1,
		isRTL: false,
		showMonthAfterYear: false,
		yearSuffix: '',		
		timeOnlyTitle: 'Kies tijd',
		timeText: 'Tijd',
		hourText: 'Uur',
		minuteText: 'Minuut',
		secondText: 'Seconde',
		currentText: 'Nu',
		closeText: 'Sluit'
	};
	$.datepicker.setDefaults($.datepicker.regional['nl']);
	
	//remove the inputs from the dom to change the type to avoid controls in webkit
	var marker = $('<marker />');	
	$("input[type='date']").each(function () {
		marker.insertBefore($(this));
		$(this).detach().attr('type', 'text').insertAfter(marker).datepicker({
			dateFormat: 'yy-mm-dd',
			showOtherMonths: true,
			selectOtherMonths: true,
		});
		marker.remove()
	});
	$("input[type='datetime'], input[type='datetime-local']").each(function () {
		marker.insertBefore($(this));
		$(this).detach().attr('type', 'text').insertAfter(marker).datetimepicker({
			dateFormat: 'yy-mm-dd',
			timeFormat: 'hh:mm',
			separator: 'T',
			showOtherMonths: true,
			selectOtherMonths: true,
			hourGrid: 4,
			minuteGrid: 10
		});
		marker.remove()
	});
});