{% set scheduledtab = true %}
{% extends 'NetvliesPublishBundle::layout.html.twig' %}
{% block content %}

    <h3>Scheduled deployments</h3>
    <hr>

    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
            <th>Target</th>
            <th>Branch</th>
            <th>Time</th>
            <th>Actions</th>
            </thead>
            {% for deployment in scheduled %}
                <tr>
                    <td>{{ deployment.target.label }}</td>
                    <td>{{ deployment.branch }}</td>
                    <td>{{ deployment.time|format('H:i') }}</td>
                    <td>
                        <a onclick="confirm('Are you sure you want to delete this application?')? window.location='{{path('scheduled_delete', {'application': application.id, 'scheduledDeployment': deployment.id})}}': false" href="#" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> delete</a>
                        {#<a href="{{path('netvlies_publish_target_edit', {'target': target.id})}}"><span class="glyphicon glyphicon-pencil"></span> edit</a> |#}
                        {#<a onclick="confirm('Are you sure you want to delete this target?')? window.location = '{{path('netvlies_publish_target_delete', {'target': target.id})}}': false" href="#"><span class="glyphicon glyphicon-remove"></span> delete</a> |#}
                        {#<a href="{{path('netvlies_publish_target_init', {'target': target.id})}}"><span class="glyphicon glyphicon-transfer"></span> remote setup</a>#}
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
    <div class="visible-xs"><span class="label label-info">Info</span> Table can be scrolled horizontally</div>


    <a href="{{path('organist_scheduled_create', {'application': application.id})}}" class="btn btn-default pull-right"><span class="glyphicon glyphicon-plus-sign"></span> Add nightly build</a>
{% endblock %}


